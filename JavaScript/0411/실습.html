<!DOCTYPE html>
<html lang="ko-KR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>배경색</title>
  <style>
    :root {
      --main-bgColor: teal;
      --main-txtColor: white;
    }

    body {
      padding: 0;
      margin: 0;
      font-size: 1.5em;
      background-color: var(--main-bgColor);
    }

    .wrapper {
      padding: 20px;
      text-align: center;
      background-color: #fff;
    }

    .picker {
      display: inline-block;
    }

    .picker+.picker {
      margin-left: 30px;
    }

    main {
      color: var(--main-txtColor);
    }
  </style>
</head>

<body>
  <section class="wrapper">
    <article class="picker">
      <label for="bg">배경색:</label>
      <input class="inp-picker" id="bg" type="color" id="bg" data-id="bgColor">
    </article>
    <article class="picker">
      <label for="txt">글씨색:</label>
      <input class="inp-picker" type="color" id="txt" data-id="txtColor">
    </article>
  </section>
  <main>
    <h1>Color Picker!!</h1>
    <p>소금이라 일월과 고동을 가는 같지 피에 내는 봄바람이다. 전인 못할 가진 열락의 것이다. 같이 풀이 위하여 인생을 것이다. 생명을 품으며, 이상의 칼이다. 품고 위하여, 피고 것은 미인을 것은 낙원을
      칼이다. 청춘의 힘차게 바이며, 간에 것이다. 천하를 설레는 보는 그들의 봄날의 그리하였는가?</p>
  </main>
  <script>
    const inpPicker = document.querySelectorAll('.inp-picker') //input둘다 선택 
    // inpPicker는 노드리스트, 유사배열 객체 forEach등 가능
    inpPicker.forEach((item) => { //item은 색상선택마다 바뀌는 색상값들(element)
      item.addEventListener('input', () => { //input값이 변화할 때마다(click과 같은 이벤트)안쪽 실행을 해라.
        const color = `--main-${item.dataset.id}`; //item data에 접근하는 메서드 input id값 을 불러오는 것. 여기서 인풋 id 값들은 :root의 변수 이름과 동일하게 되어있음.  혹은 '--main-' + item.dataset.id 으로 쓸 수 있음 위 표현식은 리터럴
        const root = document.querySelector(':root'); //루트에 접근.. css 선택자를 그대로 선택할 수 있다. 전역선언보다 스코프 안쪽 선언이 좀더 낫다. forEach에 의한 중복이나 메모리 등 이유..
        root.style.setProperty(color, item.value); //간단하게 setProperty는 setProperty 같은 경우는 style 객체가 사용할 수 있는 메소드이고, setAttribute 는 노드 객체가 사용할 수 있는 메소드라는 차이점이 있다 🙂 또한 setAttribute는 인라인 css를 다룬다. 또한 표준 속성이 아닌 속성을 다룰 수 있다.(*표준속성 = id같은 모든 요소에서 표준인 속성. 비표준 속성 = type같이 한 요소에서는 표준이지만 다른 요소에서는 표준이 아닌 속성)
        // console.log(name);

      });
    });

  </script>
</body>

</html>