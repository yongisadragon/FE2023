<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>title name</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
</head>

<body class="container">
  <!-- <article class="start">
    <h1 class="mt-5 text-center">나랑 꼭 닮은 세렝게티 동물은?</h1>
    <button type="button" class="btn btn-primary mt-5" onclick="start();">Primary</button>
  </article> -->

  <article class="question">
    <div class="progress mt-5" role="progressbar" aria-label="Basic example" aria-valuenow="25" aria-valuemin="0"
      aria-valuemax="100">
      <div class="progress-bar" style="width: 25%"></div>
    </div>
    <h2 id="title" class="text-center mt-5">문제</h2>
    <input id="type" type="hidden" value="EI">
    <!--클릭마다 EI값이 나오도록 하여, EI의 벨류값 까지 닿도록, id='EI'인 아래 인풋태그에 1씩 쌓도록 하는 중간다리 히든인풋 -->
    <button id="A" type="button" class="btn btn-primary mt-5">primary</button>
    <button id="B" type="button" class="btn btn-primary mt-5">primary</button>
  </article>
  <input type="hidden" id="EI" value="0">
  <input type="hidden" id="SN" value="0">
  <input type="hidden" id="TF" value="0">
  <input type="hidden" id="JP" value="0">


  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>

  <script>
    // 현재 몇번 문제인지(초기 1번문제)
    let num = 1;
    let q = {
      1: { "title": "문제 1번", "type": "EI", "A": "E", "B": "I" },
      2: { "title": "문제 2번", "type": "EI", "A": "E", "B": "I" },
      3: { "title": "문제 3번", "type": "EI", "A": "E", "B": "I" }


    }
    function start() {
      $('.start').hide();
      $('.question').show();
      next(); //바로 문제 화면(첫 문제)이 보이도록.
    }

    $('#A').click(function () {  // A버튼 클릭에 대한 익명함수(함수 속 함수)생성
      let type = $('#type').val(); // val은 타입의 벨류값을 가져옴. 타입을 가져와서, 타입에 해당하는 태그를 선택해서 값을 올려주자. 이것의 경우는, 콘솔에서 EI를 출력
      let preValue = $('#' + type).val(); // EI를 출력했으니 그것이 type자리에 들어가고, 타입에 해당하는 id(EI)를 가진 태그를 선택해서 값을 올려주자. 초기값은 0이므로 해당줄만 콜솔로그해보면 0이 나온다. 결국  preValue 라는 변수는 초기 0을 출력해줌.
      $('#' + type).val(parseInt(preValue) + 1); // parseInt를 안해주면 0이라는 문자열 상태로 남기 때문에 덧잎혀주고, 최종적으로 클릭시부터 지금까지~초깃값(parseInt(preValue)=0)에 1씩 더해줌. 클릭마다 1씩 쌓임.
      next(); //아래 함수 실행
    });
    $('#B').click(function () { //점수는 A버튼에만 할당해준다고 했으니(A버튼 점수의 나머지가 B점수가 되니까), B는 클릭시 넥스트 함수만 넣어준다.
      next();
    });

    function next() { // 해당 함수 실행시, 문제랑 버튼들이 다음 문제들로 바꿔줘라.!
      $('#title').html(q[num]["title"]); //html내용이 어떤내용으로 바뀔지, q에서 몇번째 문제를 나타내는 num(초기값은 1)을 가져오고, 그 문제의 title을 가져오는 내용.
      $("type").val(q[num]["type"]);  //id가 type인 히든인풋의 벨류값을 바꿔줘야해.
      $('#A').html(q[num]["A"]);  //A와B 버튼에 해당하는 문제들도 바꿔준다.
      $('#B').html(q[num]["B"]);
      num++; //num을 1씩 증가 시켜줘야 2번,3번 문제 순으로 넘어감
    }

  </script>
</body>

</html>